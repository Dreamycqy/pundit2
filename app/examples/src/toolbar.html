<!-- buildexamples:section header --><!-- /buildexamples -->

<script>

var punditConfig = {
    templates: ['http://template-test-url.com/t1'],
    modules: {
        'Toolbar': {
            askThePundit: true
        }
    }
};

var ToolbarDemoCtrl = function($scope, Toolbar, MyPundit, NotebookCommunication, TemplatesSelector) {
    
    var numberErrors = 0;


    $scope.login = function() {
        MyPundit.checkLoggedIn();
        //MyPundit.login();
    };
    
    $scope.logout = function() {
        MyPundit.logout();
    };
    
    $scope.getStatus = function() {
        return MyPundit.isUserLogged();
    };
    
    $scope.addError = function() {
        var n = numberErrors;
        var a = Toolbar.addError("Error #"+n, function() { console.log("clicked on error #", n) });
        numberErrors++;
    };

    $scope.setLoading = function(v) {
        Toolbar.setLoading(v);
    };

    $scope.getMyNotebooks = function(){
        NotebookCommunication.getMyNotebooks();
    };

    $scope.getCurrentNotebook = function() {
        NotebookCommunication.getCurrent();
    };

    $scope.getTemplates = function() {
        TemplatesSelector.getAll();
    };
}

</script>
<div data-ng-app="Pundit2" class="pnd-wrp">
    <toolbar></toolbar>
    <dashboard></dashboard>
    <annotation-sidebar></annotation-sidebar>
    <div class="container">
        
        <div ng-controller="ToolbarDemoCtrl">
            <button type="button" class="btn btn-success btn-example-login" ng-show="!getStatus()" ng-click="login()">Log in</button>
            <button type="button" class="btn btn-warning btn-example-logout" ng-show="getStatus()" ng-click="logout()">Log out</button>
            <button type="button" class="btn btn-danger" ng-click="addError()">Add Error</button>
            <button type="button" class="btn btn-info pnd-test-set-loading" ng-click="setLoading(true)">
                Set loading status
            </button>
            <button type="button" class="btn btn-info pnd-test-remove-loading" ng-click="setLoading(false)">
                Remove loading status
            </button>
            <button type="button" class="btn btn-info pnd-test-get-my-notebooks" ng-click="getMyNotebooks()">Get MyNotebooks</button>
            <button type="button" class="btn btn-info pnd-test-get-current-notebook" ng-click="getCurrentNotebook()">Get Current Notebook</button>
            <button type="button" class="btn btn-info pnd-test-get-templates" ng-click="getTemplates()">Get Templates</button>
        </div>

    </div>

    <!--<div id="html-storage">Contenuto del tag con id html-storage</div>
    <div class="pundit-content" about="http://pundit-content-url-di-prova.html"></div>-->

</div>

<!-- buildexamples:section footer --><!-- /buildexamples -->